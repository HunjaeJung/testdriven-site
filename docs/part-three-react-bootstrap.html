<!DOCTYPE html>
<html>

  <head>
  <!-- meta -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" type="image/png" href="/favicon.png">
  <!-- og -->
  
  <!-- description -->
  
  <!-- keywords -->
  
  <!-- title -->
  
    <title>Microservices with Docker, Flask, and React - React Bootstrap</title>
    <meta property="og:title" content="Microservices with Docker, Flask, and React - React Bootstrap" />
  
  <!-- styles -->
  <link rel="stylesheet" href="/assets/vendor/bootstrap.min.css">
  <link href="//use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/styles.css?1519048695805208000" rel="stylesheet">
</head>


  <body>

    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img
        class="nav-logo" src="/assets/img/test_driven_io_full_logo_white_text.svg" alt="testdriven.io"
      />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Course</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/course-contents">Contents</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/testimonials">Testimonials</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog">Blog</a>
        </li>
      </ul>
    </div>
    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
      <li class="nav-item">
        <a class="nav-link" href="https://twitter.com/testdrivenio"><i class="fab fa-twitter"></i></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/testdrivenio"><i class="fab fa-github"></i></a>
      </li>
      <li class="nav-item nav-purcahse-btn">
        <a class="btn btn-outline-warning" href="https://gum.co/flask">Purchase the Course</a>
      </li>
  </ul>
  </div>
</nav>


    <div class="container">
      <div class="row">

        <div class="col-sm-3 d-none d-md-block">
  <div id="toc-block" class="collection card">
    <ul class="collapsible collapsible-accordion">
      
        
          
            <li>
              <br>
              <h5 data-part="1">
                Part 1
              </h5>
              <div class="collapsible-body">
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>1.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-intro">
                  Introduction
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>2.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-microservices">
                  Microservices
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>3.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-app-overview">
                  App Overview
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>4.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-getting-started">
                  Getting Started
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>5.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-docker-config">
                  Docker Config
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>6.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-postgres-setup">
                  Postgres Setup
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>7.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-test-setup">
                  Test Setup
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>8.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-flask-blueprints">
                  Flask Blueprints
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>9.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-restful-routes">
                  RESTful Routes
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>10.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-deployment">
                  Deployment
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>11.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-jinja-templates">
                  Jinja Templates
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>12.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-one-workflow">
                  Workflow
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
            <li>
              <br>
              <h5 data-part="2">
                Part 2
              </h5>
              <div class="collapsible-body">
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>1.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-intro">
                  Introduction
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>2.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-code-coverage-and-quality">
                  Code Coverage and Quality
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>3.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-continuous-integration">
                  Continuous Integration
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>4.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-react-setup">
                  React Setup
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>5.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-testing-react">
                  Testing React
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>6.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-react-forms">
                  React Forms
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>7.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-react-and-docker">
                  React and Docker
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>8.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-two-next-steps">
                  Next Steps
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
            <li>
              <br>
              <h5 data-part="3">
                Part 3
              </h5>
              <div class="collapsible-body">
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>1.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-into">
                  Introduction
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>2.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-flask-migrate">
                  Flask Migrate
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>3.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-flask-bcrypt">
                  Flask Bcrypt
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>4.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-jwt-setup">
                  JWT Setup
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>5.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-auth-routes">
                  Auth Routes
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>6.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-react-router">
                  React Router
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>7.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-react-bootstrap">
                  React Bootstrap
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>8.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-react-auth-one">
                  React Auth - part one
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>9.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-mocking-user-interaction">
                  Mocking User Interaction
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>10.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-react-auth-two">
                  React Auth - part two
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>11.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-authorization">
                  Authorization
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>12.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-update-component">
                  Update Component
                </a>
              </span>
            </li>
          </ul>
        
      
        
          
          <ul>
            <li>
              <span class="badge badge-light">&bull;</span>
              <!-- <span>13.&nbsp;</span> -->
              <span>
                <a href="http://localhost:4000/part-three-update-docker">
                  Update Docker
                </a>
              </span>
            </li>
          </ul>
        
      
        
      
        
      
    </div>
    <br>
    </li>
    </ul>
  </div>
</div>


        <div class="col-md-9">

          <h1>React Bootstrap</h1>

          

            <h5>Part 3, Lesson 7</h5>

            <div class="page-nav">
              <br>
              
                <a class="btn btn-outline-success" href="http://localhost:4000/part-three-react-router">&laquo; React Router</a>
              
              
                <a class="btn btn-outline-success" href="http://localhost:4000/part-three-react-auth-one">React Auth - part one &raquo;</a>
              
            </div>

            
  
    <br>
    <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - React Bootstrap&amp;url=http%3A%2F%2Flocalhost%3A4000/part-three-react-bootstrap&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  



            <br><br>

          

          <p>In this lesson, we’ll add a Navbar and a form component with React Bootstrap to set the stage for adding in full auth…</p>

<hr />

<h2 id="setup">Setup</h2>

<p>Add <a href="https://github.com/react-bootstrap/react-bootstrap">React Bootstrap</a> and <a href="https://github.com/react-bootstrap/react-router-bootstrap">React Router Boostrap</a> to the <em>package.json</em> file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"dependencies": {
  "axios": "^0.16.2",
  "react": "^16.0.0",
  "react-bootstrap": "^0.31.5",
  "react-dom": "^16.0.0",
  "react-router-bootstrap": "^0.24.4",
  "react-router-dom": "^4.2.2",
  "react-scripts": "1.0.14"
},
</code></pre></div></div>

<p>For each component, we’ll roughly follow these steps:</p>

<ol>
  <li>Write a unit test</li>
  <li>Run the test to ensure it fails</li>
  <li>Create the component file</li>
  <li>Add the component</li>
  <li>Wire up the component to <em>App.jsx</em>, passing down any necessary <code class="highlighter-rouge">props</code></li>
  <li>Manually test it in the browser</li>
  <li>Ensure the unit tests pass</li>
  <li>Write a snapshot test</li>
</ol>

<h2 id="navbar">Navbar</h2>

<p>Create two new files in “src/components”:</p>

<ol>
  <li><em>NavBar.test.js</em></li>
  <li><em>NavBar.jsx</em></li>
</ol>

<p>Start with some tests:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'enzyme'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">renderer</span> <span class="k">from</span> <span class="s1">'react-test-renderer'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">NavBar</span> <span class="k">from</span> <span class="s1">'./NavBar'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="s1">'Hello, World!'</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'NavBar renders properly'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">NavBar</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>  <span class="kd">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'span'</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Ensure it fails, and then add the component:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Navbar</span><span class="p">,</span> <span class="nx">Nav</span><span class="p">,</span> <span class="nx">NavItem</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'react-bootstrap'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">LinkContainer</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'react-router-bootstrap'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">NavBar</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Navbar</span> <span class="nx">inverse</span> <span class="nx">collapseOnSelect</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Brand</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Navbar.Brand</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Toggle</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/Navbar.Header</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">Navbar</span><span class="p">.</span><span class="nx">Collapse</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Nav</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">"/"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">&lt;</span><span class="sr">/NavItem</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/LinkContainer</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">"/about"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">About</span><span class="o">&lt;</span><span class="sr">/NavItem</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/LinkContainer</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">"/status"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">User</span> <span class="nx">Status</span><span class="o">&lt;</span><span class="sr">/NavItem</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/LinkContainer</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Nav</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Nav</span> <span class="nx">pullRight</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">"/register"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Register</span><span class="o">&lt;</span><span class="sr">/NavItem</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/LinkContainer</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">"/login"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Log</span> <span class="nx">In</span><span class="o">&lt;</span><span class="sr">/NavItem</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/LinkContainer</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">LinkContainer</span> <span class="nx">to</span><span class="o">=</span><span class="s2">"/logout"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">NavItem</span> <span class="nx">eventKey</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Log</span> <span class="nx">Out</span><span class="o">&lt;</span><span class="sr">/NavItem</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/LinkContainer</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Nav</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Navbar.Collapse</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/Navbar</span><span class="err">&gt;
</span><span class="p">)</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">NavBar</span><span class="p">;</span>
</code></pre></div></div>

<p>Add the import to <em>App.jsx</em>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">NavBar</span> <span class="k">from</span> <span class="s1">'./components/NavBar'</span><span class="p">;</span>
</code></pre></div></div>

<p>Add a title to <code class="highlighter-rouge">state</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">users</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">username</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="s1">'TestDriven.io'</span>
<span class="p">}</span>
</code></pre></div></div>

<p>And update <code class="highlighter-rouge">render()</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">NavBar</span>
        <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"container"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"row"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"col-md-6"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">'/'</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">(</span>
                <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">All</span> <span class="nx">Users</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="nx">hr</span><span class="o">/&gt;&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">AddUser</span>
                    <span class="nx">username</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">username</span><span class="p">}</span>
                    <span class="nx">email</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
                    <span class="nx">handleChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleChange</span><span class="p">}</span>
                    <span class="nx">addUser</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">addUser</span><span class="p">}</span>
                  <span class="sr">/</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                  <span class="o">&lt;</span><span class="nx">UsersList</span> <span class="nx">users</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">users</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>              <span class="p">)}</span> <span class="sr">/</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">'/about'</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/Switch</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">};</span>
</code></pre></div></div>

<p>Update the container:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose <span class="nt">-f</span> docker-compose-dev.yml up <span class="nt">-d</span> <span class="nt">--build</span>
</code></pre></div></div>

<p>Test it out in the browser.</p>

<div style="text-align:left;">
  <img src="/assets/img/course/03_react_bootstrap_navbar.png" style="max-width: 100%; border:0; box-shadow: none;" alt="react bootstrap navbar" />
</div>

<p>Ensure the tests pass. Then, add a snapshot test:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">test</span><span class="p">(</span><span class="s1">'NavBar renders a snapshot properly'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Router</span> <span class="nx">location</span><span class="o">=</span><span class="s2">"/"</span><span class="o">&gt;&lt;</span><span class="nx">NavBar</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="sr">/&gt;&lt;/</span><span class="nx">Router</span><span class="o">&gt;</span>
  <span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Add the import:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">MemoryRouter</span> <span class="k">as</span> <span class="nx">Router</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'react-router-dom'</span><span class="p">;</span>
</code></pre></div></div>

<p>Here, we used the <a href="https://reacttraining.com/react-router/core/api/MemoryRouter">MemoryRouter</a> to provide context to the Router for the test.</p>

<blockquote>
  <p>Review the official <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/testing.md">Testing guide</a> for more info.</p>
</blockquote>

<h2 id="form">Form</h2>

<p>Instead of using two different components to handle user registration and login, let’s create a generic form component and customize it based on the state.</p>

<p>Add the files:</p>

<ol>
  <li><em>Form.test.js</em></li>
  <li><em>Form.jsx</em></li>
</ol>

<p>Test:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'enzyme'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">renderer</span> <span class="k">from</span> <span class="s1">'react-test-renderer'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">Form</span> <span class="k">from</span> <span class="s1">'./Form'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">formData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">username</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
  <span class="na">password</span><span class="p">:</span> <span class="s1">''</span>
<span class="p">};</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Register Form renders properly'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">'Register'</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="kd">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">'Register'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.form-group'</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">'username'</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Login Form renders properly'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">'Login'</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="kd">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">'Login'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.form-group'</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">'email'</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Component:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Form</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">hr</span><span class="o">/&gt;&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">handleUserFormSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formType</span> <span class="o">===</span> <span class="s1">'Register'</span> <span class="o">&amp;&amp;</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"form-group"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">input</span>
              <span class="nx">name</span><span class="o">=</span><span class="s2">"username"</span>
              <span class="nx">className</span><span class="o">=</span><span class="s2">"form-control input-lg"</span>
              <span class="nx">type</span><span class="o">=</span><span class="s2">"text"</span>
              <span class="nx">placeholder</span><span class="o">=</span><span class="s2">"Enter a username"</span>
              <span class="nx">required</span>
              <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">username</span><span class="p">}</span>
              <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
            <span class="sr">/</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="p">}</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"form-group"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">input</span>
            <span class="nx">name</span><span class="o">=</span><span class="s2">"email"</span>
            <span class="nx">className</span><span class="o">=</span><span class="s2">"form-control input-lg"</span>
            <span class="nx">type</span><span class="o">=</span><span class="s2">"email"</span>
            <span class="nx">placeholder</span><span class="o">=</span><span class="s2">"Enter an email address"</span>
            <span class="nx">required</span>
            <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
            <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
          <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"form-group"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">input</span>
            <span class="nx">name</span><span class="o">=</span><span class="s2">"password"</span>
            <span class="nx">className</span><span class="o">=</span><span class="s2">"form-control input-lg"</span>
            <span class="nx">type</span><span class="o">=</span><span class="s2">"password"</span>
            <span class="nx">placeholder</span><span class="o">=</span><span class="s2">"Enter a password"</span>
            <span class="nx">required</span>
            <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">formData</span><span class="p">.</span><span class="nx">password</span><span class="p">}</span>
            <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">handleFormChange</span><span class="p">}</span>
          <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">"submit"</span>
          <span class="nx">className</span><span class="o">=</span><span class="s2">"btn btn-primary btn-lg btn-block"</span>
          <span class="nx">value</span><span class="o">=</span><span class="s2">"Submit"</span>
        <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Form</span><span class="p">;</span>
</code></pre></div></div>

<p>Did you notice the <a href="https://facebook.github.io/react/docs/conditional-rendering.html#inline-if-with-logical--operator">inline if</a> statement - <code class="highlighter-rouge">props.formType === 'Register' &amp;&amp;</code>? Review the code above, adding in code comments as needed.</p>

<p>Import the component into <em>App.jsx</em>, and then update the state in the constructor:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">users</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">username</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="s1">'TestDriven.io'</span><span class="p">,</span>
  <span class="na">formData</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">username</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="na">password</span><span class="p">:</span> <span class="s1">''</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>Add the component to the <code class="highlighter-rouge">&lt;Switch&gt;</code>, within the <code class="highlighter-rouge">render</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">'/register'</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span>
    <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">'Register'</span><span class="p">}</span>
    <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span>
  <span class="sr">/</span><span class="err">&gt;
</span><span class="p">)}</span> <span class="sr">/</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="s1">'/login'</span> <span class="nx">render</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span>
    <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">'Login'</span><span class="p">}</span>
    <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span>
  <span class="sr">/</span><span class="err">&gt;
</span><span class="p">)}</span> <span class="sr">/</span><span class="err">&gt;
</span></code></pre></div></div>

<p>Make sure the routes work in the browser, but don’t try to submit the forms just yet - we still need to wire them up!</p>

<p>Add the snapshot tests:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">test</span><span class="p">(</span><span class="s1">'Register Form renders a snapshot properly'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">'Register'</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="kd">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">test</span><span class="p">(</span><span class="s1">'Login Form renders a snapshot properly'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="s1">'Login'</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="kd">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Make sure the tests pass!</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PASS  src/components/Form.test.js
PASS  src/components/NavBar.test.js
PASS  src/App.test.js
PASS  src/components/About.test.js
PASS  src/components/UsersList.test.js
PASS  src/components/AddUser.test.js

Test Suites: 6 passed, 6 total
Tests:       13 passed, 13 total
Snapshots:   6 passed, 6 total
Time:        2.761s, estimated 7s
Ran all <span class="nb">test </span>suites.
</code></pre></div></div>

<h2 id="refactor">Refactor</h2>

<p>Before moving on, let’s do two quick refactors…</p>

<h3 id="form-tests">Form tests</h3>

<p>This code is not DRY. It may be fine for the two forms we have now, but what if we had 20? Re-write this on your own before reviewing the solution.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">shallow</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'enzyme'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">renderer</span> <span class="k">from</span> <span class="s1">'react-test-renderer'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">Form</span> <span class="k">from</span> <span class="s1">'./Form'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">testData</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">formType</span><span class="p">:</span> <span class="s1">'Register'</span><span class="p">,</span>
    <span class="na">formData</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">username</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
      <span class="na">email</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
      <span class="na">password</span><span class="p">:</span> <span class="s1">''</span>
    <span class="p">},</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">formType</span><span class="p">:</span> <span class="s1">'Login'</span><span class="p">,</span>
    <span class="na">formData</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">email</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
      <span class="na">password</span><span class="p">:</span> <span class="s1">''</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="nx">testData</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">el</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">test</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span><span class="s2"> Form renders properly`</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>    <span class="kd">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">shallow</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">h1</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">h1</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">formGroup</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.form-group'</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">).</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">formGroup</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="nx">test</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span><span class="s2"> Form renders a snapshot properly`</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">formType</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formType</span><span class="p">}</span> <span class="nx">formData</span><span class="o">=</span><span class="p">{</span><span class="nx">el</span><span class="p">.</span><span class="nx">formData</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>    <span class="kd">const</span> <span class="nx">tree</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">component</span><span class="p">).</span><span class="nx">toJSON</span><span class="p">();</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">toMatchSnapshot</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Run the tests again.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PASS  src/components/Form.test.js
PASS  src/components/NavBar.test.js
PASS  src/App.test.js
PASS  src/components/About.test.js
PASS  src/components/UsersList.test.js
PASS  src/components/AddUser.test.js

Test Suites: 6 passed, 6 total
Tests:       13 passed, 13 total
Snapshots:   6 passed, 6 total
Time:        3.118s, estimated 7s
Ran all <span class="nb">test </span>suites.
</code></pre></div></div>

<p>Also, it’s important to ensure that the rendered components have not actually changed. Start by visually inspecting them in the browser, and then, as long as the two snapshots pass without having to create new snapshots, then we know all is well. How do you know if the snapshot has changed?</p>

<p>You’ll see the following message in the terminal when the tests run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Snapshot Summary
 › 1 snapshot written <span class="k">in </span>1 <span class="nb">test </span>suite.
 › 1 obsolete snapshot found, press <span class="sb">`</span>u<span class="sb">`</span> to remove them.
</code></pre></div></div>

<p>If you see that message, immediately revert your code back, take a new snapshot, and then start the refactor over again.</p>

<h3 id="test-directory">Test directory</h3>

<p>Next, it’s getting crowded in the “components” directory. Create a new directory within it called “__tests__”, and move all of the <em>*.test.js</em> files into it:</p>

<ol>
  <li><em>About.test.js</em></li>
  <li><em>AddUser.test.js</em></li>
  <li><em>Form.test.js</em></li>
  <li><em>NavBar.test.js</em></li>
  <li><em>UsersList.test.js</em></li>
  <li><em>App.test.js</em></li>
</ol>

<p>Update the imports. Ensure the tests still pass. Commit your code. Push to GitHub.</p>


          

            
  
    <br>
    <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - React Bootstrap&amp;url=http%3A%2F%2Flocalhost%3A4000/part-three-react-bootstrap&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  



            <div class="page-nav">
              <br>
              
                <a class="btn btn-outline-success" href="http://localhost:4000/part-three-react-router">&laquo; React Router</a>
              
              
                <a class="btn btn-outline-success" href="http://localhost:4000/part-three-react-auth-one">React Auth - part one &raquo;</a>
              
            </div>

          

        </div>

      </div>
    </div>

     <footer class="footer text-center">
  <div class="container">
    <hr>
    <small>
      <p>
      <span>&copy; Copyright 2018</span>
      <a href="http://testdriven.io">TestDriven.io</a>.
      <br>
      <span>Developed by </span>
      <a href="http://mherman.org/">Michael Herman</a>.
      <br>
      <span>Questions? </span>
      <a href="mailto:michael@mherman.org">michael@mherman.org</a>
      <p>
    </small>
  </div>
</footer>


    <script
  src="//code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"
></script>
<script
  src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
  crossorigin="anonymous"
></script>
<script
  type="text/javascript"
  src="/assets/js/main.js"
></script>
<script
  type="text/javascript"
  src="https://gumroad.com/js/gumroad.js"
></script>
<!-- addthis -->

  <script
    type="text/javascript"
    src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50e5f1cc35ad077d"
  ></script>



    


  </body>
</html>
